<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>11 Labs Text-to-Speech Generator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üéôÔ∏è 11 Labs TTS Generator</h1>
            <p class="subtitle">Convert text to natural-sounding speech</p>
        </header>

        <!-- Mode Selector Screen -->
        <div id="modeSelector" class="mode-selector">
            <h2>Select Mode</h2>
            <div class="mode-cards">
                <div class="mode-card" onclick="selectMode('simple')">
                    <div class="mode-icon">üìù</div>
                    <h3>Simple Mode</h3>
                    <p>Generate audio from a few lines of text</p>
                    <button class="btn btn-mode">Select</button>
                </div>
                <div class="mode-card" onclick="selectMode('script')">
                    <div class="mode-icon">üìú</div>
                    <h3>Script Mode</h3>
                    <p>Generate audio from long scripts with intelligent splitting</p>
                    <button class="btn btn-mode">Select</button>
                </div>
            </div>
        </div>

        <!-- Simple Mode Screen -->
        <div id="simpleMode" class="mode-screen" style="display: none;">
            <div class="back-button" onclick="backToModeSelector()">
                ‚Üê Back to Mode Selection
            </div>

            <div class="card">
                <div class="input-section">
                    <label for="textInput">Enter Text</label>
                    <textarea
                        id="textInput"
                        placeholder="Type or paste your text here..."
                        rows="8"
                    ></textarea>

                    <div class="info-bar">
                        <div class="character-count">
                            <span id="charCount">0</span> characters
                        </div>
                    </div>
                </div>

                <div class="button-section">
                    <button id="generateBtn" class="btn btn-primary">
                        <span class="btn-text">Generate Audio</span>
                        <span class="loader" style="display: none;"></span>
                    </button>
                </div>

                <div id="resultSection" class="result-section" style="display: none;">
                    <div class="success-message">
                        <span class="success-icon">‚úì</span>
                        Audio generated successfully!
                    </div>

                    <div class="audio-player">
                        <audio id="audioPlayer" controls></audio>
                    </div>

                    <button id="downloadBtn" class="btn btn-secondary">
                        Download Audio
                    </button>
                </div>

                <div id="errorSection" class="error-section" style="display: none;">
                    <div class="error-message">
                        <span class="error-icon">‚ö†Ô∏è</span>
                        <span id="errorText"></span>
                    </div>
                </div>
            </div>

            <div class="info-card">
                <h3>Settings</h3>
                <div class="settings-grid">
                    <div class="setting-item">
                        <span class="setting-label">Model:</span>
                        <span class="setting-value">eleven_multilingual_v2</span>
                    </div>
                    <div class="setting-item">
                        <span class="setting-label">Stability:</span>
                        <span class="setting-value">0.4</span>
                    </div>
                    <div class="setting-item">
                        <span class="setting-label">Similarity Boost:</span>
                        <span class="setting-value">0.8</span>
                    </div>
                    <div class="setting-item">
                        <span class="setting-label">Style:</span>
                        <span class="setting-value">0.5</span>
                    </div>
                    <div class="setting-item">
                        <span class="setting-label">Speaker Boost:</span>
                        <span class="setting-value">Enabled</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Script Mode Screen -->
        <div id="scriptMode" class="mode-screen" style="display: none;">
            <div class="back-button" onclick="backToModeSelector()">
                ‚Üê Back to Mode Selection
            </div>

            <div class="card">
                <div class="input-section">
                    <label for="scriptInput">Enter Script</label>
                    <textarea
                        id="scriptInput"
                        placeholder="Paste your long script here... (25-75 lines)&#10;&#10;Claude Haiku will intelligently split it into 3-4 line chunks for optimal audio generation."
                        rows="15"
                    ></textarea>

                    <div class="info-bar">
                        <div class="character-count">
                            <span id="scriptCharCount">0</span> characters
                        </div>
                        <div class="line-count">
                            <span id="lineCount">0</span> lines
                        </div>
                    </div>
                </div>

                <div class="button-section">
                    <button id="generateScriptBtn" class="btn btn-primary">
                        <span class="btn-text">Generate Script Audio</span>
                        <span class="loader" style="display: none;"></span>
                    </button>
                </div>

                <div id="scriptProgress" class="progress-section" style="display: none;">
                    <div class="progress-message">
                        <span class="progress-icon">‚è≥</span>
                        <span id="progressText">Processing...</span>
                    </div>
                </div>

                <div id="scriptResultSection" class="script-result-section" style="display: none;">
                    <div class="success-message">
                        <span class="success-icon">‚úì</span>
                        <span id="scriptSuccessText">Script processed successfully!</span>
                    </div>

                    <div class="action-buttons">
                        <button id="downloadAllZipBtn" class="btn btn-download-zip">
                            üì¶ Download All as ZIP
                        </button>
                    </div>

                    <div id="chunksContainer" class="chunks-container">
                        <!-- Audio chunks will be inserted here -->
                    </div>
                </div>

                <div id="scriptErrorSection" class="error-section" style="display: none;">
                    <div class="error-message">
                        <span class="error-icon">‚ö†Ô∏è</span>
                        <span id="scriptErrorText"></span>
                    </div>
                </div>
            </div>

            <div class="info-card">
                <h3>Script Mode Features</h3>
                <ul class="feature-list">
                    <li>ü§ñ AI-powered text splitting using Claude Haiku</li>
                    <li>üìä Semantic chunking (3-4 lines per chunk)</li>
                    <li>üéµ Individual audio players for each chunk</li>
                    <li>üì¶ Download all chunks as ZIP file</li>
                    <li>üíæ Individual download for each chunk</li>
                </ul>
            </div>
        </div>

        <footer>
            <p>Powered by 11 Labs API & Claude AI</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
